<main class="login-container">
  <mat-card class="login-card">

    <mat-card-title class="login-title">
      Acesse sua conta
    </mat-card-title>

    <p class="mock-account">
      Conta mock: <strong>{{ mockCredentials.email }}</strong> / <strong>{{ mockCredentials.password }}</strong>
    </p>

    <form 
      [formGroup]="loginForm" 
      (ngSubmit)="onSubmit()" 
      class="login-form">

      <mat-form-field 
        appearance="outline" 
        class="custom-input">

        <mat-label>Email</mat-label>

        <input 
          matInput 
          type="email" 
          formControlName="email" />

        @if (loginForm.get('email')?.hasError('required')) {
          <mat-error class="error-message">Email é obrigatório</mat-error>
        }

        @if (loginForm.get('email')?.hasError('email')) {
          <mat-error class="error-message">Email inválido</mat-error>
        }

      </mat-form-field>

      <mat-form-field 
        appearance="outline" 
        class="custom-input">

        <mat-label>Senha</mat-label>

        <input 
          matInput 
          type="password" 
          formControlName="password" />

        @if (loginForm.get('password')?.hasError('required')) {
          <mat-error class="error-message">Senha é obrigatória</mat-error>
        }

      </mat-form-field>

      <button 
        mat-raised-button 
        color="primary" 
        type="submit"
        class="login-button"
        [disabled]="loginForm.invalid">

        Entrar

      </button>

    </form>

    @if (errorMessage(); as message) {
      <p class="error-banner">{{ message }}</p>
    }

  </mat-card>
</main>
